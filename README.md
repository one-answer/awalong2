# 阿瓦隆传奇 (Avalon: The Legend)

阿瓦隆传奇是基于经典桌游《抵抗组织：阿瓦隆》改编的在线多人游戏。在这个游戏中，玩家们分为正义与邪恶两个阵营，通过策略、推理和欺骗来争夺胜利。

## 目录

- [游戏介绍](#游戏介绍)
- [安装与运行](#安装与运行)
- [游戏规则](#游戏规则)
- [角色介绍](#角色介绍)
- [技术架构](#技术架构)
- [贡献指南](#贡献指南)
- [许可证](#许可证)

## 游戏介绍

阿瓦隆传奇是一个多人在线社交推理游戏，玩家数量支持4-10人。游戏中玩家分为正义和邪恶两个阵营，两方进行对抗。正义方需要完成三次任务以获胜，而邪恶方则需要使三次任务失败。游戏过程中玩家的身份是隐藏的，需要通过推理、观察和策略来识别其他玩家的身份。

游戏特色：
- 多种特殊角色，各具能力
- 实时对战系统
- 魔法指示物系统增加游戏策略性
- 精美的中世纪风格界面
- 支持4-10人游戏，不同人数有不同阵营配置

## 安装与运行

### 前提条件

- Python 3.7+
- Flask
- Flask-SocketIO
- 其他依赖项（见requirements.txt）

### 安装步骤

1. 克隆仓库:
```bash
git clone https://github.com/yourusername/awalong2.git
cd awalong2
```

2. 安装依赖:
```bash
pip install -r requirements.txt
```

3. 运行服务器:
```bash
python app.py
```

4. 在浏览器中访问:
```
http://localhost:5001
```

## 游戏规则

### 基本概念

- **游戏目标**：正义阵营需要成功完成3次任务获胜，邪恶阵营需要使3次任务失败获胜
- **身份隐藏**：除特殊角色外，玩家不知道其他人的身份
- **任务机制**：每轮由队长选择队员执行任务，队员可以选择任务成功或失败

### 游戏流程

1. **准备阶段**：系统随机分配角色给每个玩家
2. **任务阶段**：游戏共有5轮任务，需要完成3次任务判定胜负
3. **每轮任务流程**：
   - 队长选择一定数量的队员（不同轮次、不同人数要求不同）
   - 队员秘密投票决定任务成功或失败（正义阵营只能选择成功）
   - 任何一票失败都会导致任务失败
4. **任务结束**：任务成功或失败后，队长选择下一任队长
5. **游戏结束**：当一方阵营达成胜利条件时游戏结束

### 特殊规则

- **魔法指示物**：队长可以派发魔法指示物给队员，拥有魔法指示物的队员在执行任务时会自动使用
  - 正义阵营玩家使用魔法指示物时必须选择任务成功
  - 邪恶阵营中的摩根勒菲使用魔法指示物时可以选择任务失败

## 角色介绍

### 正义阵营

- **亚瑟的忠臣**：效忠于亚瑟王的正义骑士，不具特殊能力
- **公爵**：在最终任务中可以指定一位玩家放下一只手
- **大公**：在最终任务中，邪恶方揭露身份后，可以改变一个玩家一只手的指向

### 邪恶阵营

- **摩根勒菲**：不受魔法指示物效果影响，可以投失败票
- **王储**：不知道邪恶方有谁，但邪恶方知道谁是王储
- **幻形妖**：邪恶方不知道幻形妖是谁，幻形妖也不知道哪些人是邪恶方
- **莫德雷德的爪牙**：知道其他邪恶阵营的人（除了幻形妖）

## 技术架构

- **前端**：HTML, CSS, JavaScript
- **后端**：Python, Flask
- **实时通信**：Flask-SocketIO
- **游戏逻辑**：面向对象设计的游戏核心系统

## 贡献指南

欢迎贡献代码、报告问题或提出新功能建议。请遵循以下步骤：

1. Fork 本仓库
2. 创建您的特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交您的更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启一个 Pull Request

## 许可证

本项目基于 MIT 许可证 - 详情请参见 [LICENSE](LICENSE) 文件 